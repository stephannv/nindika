<div class="dropdown dropdown-end">
  <label tabindex="0" class="btn btn-ghost btn-circle avatar ring ring-primary">
    <div class="w-10 rounded-full bg-accent">
      <%= image_tag user_profile_image_url,
        onerror: "this.onerror=null;this.src='#{current_user.placeholder_avatar_url}'",
        alt: current_user.name
      %>
    </div>
  </label>
  <ul tabindex="0" class="gap-1 mt-3 p-2 shadow menu dropdown-content bg-base-200 rounded-box w-72 border border-gray-700">
    <li class="menu-title truncate text-center">
      <span><%= current_user.name %></span>
    </li>
    <li>
      <%= link_to wishlist_path do %>
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"> <path stroke-linecap="round" stroke-linejoin="round" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z" /> </svg>
        <%= t(".wishlist") %>
      <% end %>
    </li>
    <li>
      <%= link_to wishlist_path(format: :csv) do %>
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3" /> </svg>
        Exportar lista de desejo
      <% end %>
    </li>

    <%= button_to destroy_user_session_path, class: "btn btn-block mt-2 gap-3", method: :delete, data: { turbo: false } do %>
      <%= t(".logout") %>

      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"> <path stroke-linecap="round" stroke-linejoin="round" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" /> </svg>
    <% end %>
  </ul>
</div>
